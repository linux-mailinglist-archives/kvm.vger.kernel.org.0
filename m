Return-Path: <kvm-owner@vger.kernel.org>
X-Original-To: lists+kvm@lfdr.de
Delivered-To: lists+kvm@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id C0B584D0492
	for <lists+kvm@lfdr.de>; Mon,  7 Mar 2022 17:52:24 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S236881AbiCGQxR (ORCPT <rfc822;lists+kvm@lfdr.de>);
        Mon, 7 Mar 2022 11:53:17 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:51734 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S230017AbiCGQxP (ORCPT <rfc822;kvm@vger.kernel.org>);
        Mon, 7 Mar 2022 11:53:15 -0500
Received: from ams.source.kernel.org (ams.source.kernel.org [IPv6:2604:1380:4601:e00::1])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 4B7F46AA68
        for <kvm@vger.kernel.org>; Mon,  7 Mar 2022 08:52:21 -0800 (PST)
Received: from smtp.kernel.org (relay.kernel.org [52.25.139.140])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by ams.source.kernel.org (Postfix) with ESMTPS id 09190B8164E
        for <kvm@vger.kernel.org>; Mon,  7 Mar 2022 16:52:20 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 9EE56C340E9;
        Mon,  7 Mar 2022 16:52:18 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1646671938;
        bh=/JbDy1Wdxx5UrVmpwE8J1sNcP7rgJOTzMhZ4KOZT5eo=;
        h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
        b=WL4DuGw/pHMPftDa/BR7gw9a1uxWnilgWUrzuF5vtwBCjtr7KTUg/gEcQulZCz5r1
         Zv6LeiRVZSRHUfwxKoWLLlROxQew6GdEFxj7dOnmCCqVQCD40Np3db82fj9La+mfsA
         TVzSWKqOAEpjwpc8j2Iyy3Fh8U9EGG2lq2a9wjk5B5Nlqp2Gv34BaQgCnuOHD0Wco9
         4I3KxL82LpiaTCt70dvoNGcbnx7dSlSoUQ56uYLHk+hnSnMq5Gs1UOXEO9HOgQxrIh
         rm0cvx1g19XJ2A3vdwxoubASTbtxwoL9NGm9Q6CrSC1QFhiEj+YTeGqtHLVZ5rMmoc
         fVEVo2RdPgczA==
Received: from sofa.misterjones.org ([185.219.108.64] helo=why.misterjones.org)
        by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        (Exim 4.94.2)
        (envelope-from <maz@kernel.org>)
        id 1nRGam-00CqSm-6k; Mon, 07 Mar 2022 16:52:16 +0000
Date:   Mon, 07 Mar 2022 16:52:15 +0000
Message-ID: <8735jt1z9c.wl-maz@kernel.org>
From:   Marc Zyngier <maz@kernel.org>
To:     Alexandru Elisei <alexandru.elisei@arm.com>
Cc:     linux-arm-kernel@lists.infradead.org, kvmarm@lists.cs.columbia.edu,
        kvm@vger.kernel.org, Andre Przywara <andre.przywara@arm.com>,
        Christoffer Dall <christoffer.dall@arm.com>,
        Jintack Lim <jintack@cs.columbia.edu>,
        Haibo Xu <haibo.xu@linaro.org>,
        Ganapatrao Kulkarni <gankulkarni@os.amperecomputing.com>,
        Chase Conklin <chase.conklin@arm.com>,
        "Russell King (Oracle)" <linux@armlinux.org.uk>,
        James Morse <james.morse@arm.com>,
        Suzuki K Poulose <suzuki.poulose@arm.com>,
        karl.heubaum@oracle.com, mihai.carabas@oracle.com,
        miguel.luis@oracle.com, kernel-team@android.com
Subject: Re: [PATCH v6 43/64] KVM: arm64: nv: arch_timer: Support hyp timer emulation
In-Reply-To: <YiYyqvwp3xkieF6S@monolith.localdoman>
References: <20220128121912.509006-1-maz@kernel.org>
        <20220128121912.509006-44-maz@kernel.org>
        <YiYcLIhdo5fQFbSA@monolith.localdoman>
        <c084f234eff61b0ab8da5716879745e2@kernel.org>
        <YiYyqvwp3xkieF6S@monolith.localdoman>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/27.1
 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-SA-Exim-Connect-IP: 185.219.108.64
X-SA-Exim-Rcpt-To: alexandru.elisei@arm.com, linux-arm-kernel@lists.infradead.org, kvmarm@lists.cs.columbia.edu, kvm@vger.kernel.org, andre.przywara@arm.com, christoffer.dall@arm.com, jintack@cs.columbia.edu, haibo.xu@linaro.org, gankulkarni@os.amperecomputing.com, chase.conklin@arm.com, linux@armlinux.org.uk, james.morse@arm.com, suzuki.poulose@arm.com, karl.heubaum@oracle.com, mihai.carabas@oracle.com, miguel.luis@oracle.com, kernel-team@android.com
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false
X-Spam-Status: No, score=-7.6 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        SPF_HELO_NONE,SPF_PASS,T_SCC_BODY_TEXT_LINE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <kvm.vger.kernel.org>
X-Mailing-List: kvm@vger.kernel.org

On Mon, 07 Mar 2022 16:28:44 +0000,
Alexandru Elisei <alexandru.elisei@arm.com> wrote:
> 
> Hi,
> 
> On Mon, Mar 07, 2022 at 03:48:19PM +0000, Marc Zyngier wrote:
> > On 2022-03-07 14:52, Alexandru Elisei wrote:
> > > Hi,
> > > 
> > > I was under the impression that KVM's nested virtualization doesn't
> > > support
> > > AArch32 in the guest, why is the subject about hyp mode aarch32 timers?
> > 
> > Where did you see *ANY* mention of AArch32?
> 
> I saw an implicit mention of aarch32 when the commit message used
> the term "hyp", which is the name of an aarch32 execution mode.
> 
> > 
> > Or is that a very roundabout way to object to the 'hyp' name?
> 
> Bingo.
> 
> > If that's the case, just apply a mental 's/hyp/el2/' substitution.
> 
> I'm a bit confused about that. Is that something that anyone reading
> the patch should apply mentally when reading the patch, or is it
> something that you plan to change in the commit subject?

Big picture:

maz@hot-poop:~/arm-platforms$ git grep -i hyp arch/arm64/|wc -l
1701
maz@hot-poop:~/arm-platforms$ git grep -i el2 arch/arm64/|wc -l
1008

Are we going to also repaint all these 'hyp' references?

I really appreciate all the hard work you are putting in carefully
reviewing the code. I *really* do. But bickering on this really
doesn't help, and I know you understand exactly what this subject line
means (you've been reviewing KVM code for long enough, and won't fool
anyone).

The point you are trying to make really is moot. Everybody understands
that HYP means EL2. I'd even argue that it is clearer than EL2,
because it indicates that we're running at EL2 with the role of a
hypervisor, which isn't that clear with running with VHE.

And if they don't understand that, it unfortunately means they can't
really review this code.

	M.

-- 
Without deviation from the norm, progress is not possible.
