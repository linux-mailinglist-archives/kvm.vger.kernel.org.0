Return-Path: <kvm-owner@vger.kernel.org>
X-Original-To: lists+kvm@lfdr.de
Delivered-To: lists+kvm@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 35E4F192983
	for <lists+kvm@lfdr.de>; Wed, 25 Mar 2020 14:22:16 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727400AbgCYNWE (ORCPT <rfc822;lists+kvm@lfdr.de>);
        Wed, 25 Mar 2020 09:22:04 -0400
Received: from mga04.intel.com ([192.55.52.120]:38450 "EHLO mga04.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1727020AbgCYNWE (ORCPT <rfc822;kvm@vger.kernel.org>);
        Wed, 25 Mar 2020 09:22:04 -0400
IronPort-SDR: AsN/55R8TbrDHeOWUaDbXyQ88Y92F7YDGvruT9BjyL8zylH1BEraqp+b6PlN5JvZ6ScxZSnpBo
 QFhQ6RyqqHFQ==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
  by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 25 Mar 2020 06:22:02 -0700
IronPort-SDR: hkpmWWYsc/TvV+mW532S1UdgipIMiNI8BFivDgp8sy7cFVbN1WP3Aw/HuE5i7SEmHtuiYnSHiM
 s6QvWSLUiSEg==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,304,1580803200"; 
   d="scan'208";a="250404877"
Received: from fmsmsx107.amr.corp.intel.com ([10.18.124.205])
  by orsmga006.jf.intel.com with ESMTP; 25 Mar 2020 06:22:01 -0700
Received: from fmsmsx125.amr.corp.intel.com (10.18.125.40) by
 fmsmsx107.amr.corp.intel.com (10.18.124.205) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 25 Mar 2020 06:22:01 -0700
Received: from shsmsx154.ccr.corp.intel.com (10.239.6.54) by
 FMSMSX125.amr.corp.intel.com (10.18.125.40) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 25 Mar 2020 06:22:01 -0700
Received: from shsmsx104.ccr.corp.intel.com ([169.254.5.206]) by
 SHSMSX154.ccr.corp.intel.com ([169.254.7.145]) with mapi id 14.03.0439.000;
 Wed, 25 Mar 2020 21:21:57 +0800
From:   "Liu, Yi L" <yi.l.liu@intel.com>
To:     Peter Xu <peterx@redhat.com>
CC:     "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>,
        "alex.williamson@redhat.com" <alex.williamson@redhat.com>,
        "eric.auger@redhat.com" <eric.auger@redhat.com>,
        "pbonzini@redhat.com" <pbonzini@redhat.com>,
        "mst@redhat.com" <mst@redhat.com>,
        "david@gibson.dropbear.id.au" <david@gibson.dropbear.id.au>,
        "Tian, Kevin" <kevin.tian@intel.com>,
        "Tian, Jun J" <jun.j.tian@intel.com>,
        "Sun, Yi Y" <yi.y.sun@intel.com>,
        "kvm@vger.kernel.org" <kvm@vger.kernel.org>,
        "Wu, Hao" <hao.wu@intel.com>,
        "jean-philippe@linaro.org" <jean-philippe@linaro.org>,
        Jacob Pan <jacob.jun.pan@linux.intel.com>,
        Yi Sun <yi.y.sun@linux.intel.com>,
        Richard Henderson <rth@twiddle.net>,
        Eduardo Habkost <ehabkost@redhat.com>
Subject: RE: [PATCH v1 20/22] intel_iommu: propagate PASID-based iotlb
 invalidation to host
Thread-Topic: [PATCH v1 20/22] intel_iommu: propagate PASID-based iotlb
 invalidation to host
Thread-Index: AQHWAEW3X+65yqyUwUiucJlWzaqkgqhXjwWAgAHAhkA=
Date:   Wed, 25 Mar 2020 13:21:56 +0000
Message-ID: <A2975661238FB949B60364EF0F2C25743A2022C5@SHSMSX104.ccr.corp.intel.com>
References: <1584880579-12178-1-git-send-email-yi.l.liu@intel.com>
 <1584880579-12178-21-git-send-email-yi.l.liu@intel.com>
 <20200324183423.GE127076@xz-x1>
In-Reply-To: <20200324183423.GE127076@xz-x1>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.239.127.40]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: kvm-owner@vger.kernel.org
Precedence: bulk
List-ID: <kvm.vger.kernel.org>
X-Mailing-List: kvm@vger.kernel.org

PiBGcm9tOiBQZXRlciBYdSA8cGV0ZXJ4QHJlZGhhdC5jb20+DQo+IFNlbnQ6IFdlZG5lc2RheSwg
TWFyY2ggMjUsIDIwMjAgMjozNCBBTQ0KPiBUbzogTGl1LCBZaSBMIDx5aS5sLmxpdUBpbnRlbC5j
b20+DQo+IFN1YmplY3Q6IFJlOiBbUEFUQ0ggdjEgMjAvMjJdIGludGVsX2lvbW11OiBwcm9wYWdh
dGUgUEFTSUQtYmFzZWQgaW90bGINCj4gaW52YWxpZGF0aW9uIHRvIGhvc3QNCj4gDQo+IE9uIFN1
biwgTWFyIDIyLCAyMDIwIGF0IDA1OjM2OjE3QU0gLTA3MDAsIExpdSBZaSBMIHdyb3RlOg0KPiA+
IFRoaXMgcGF0Y2ggcHJvcGFnYXRlcyBQQVNJRC1iYXNlZCBpb3RsYiBpbnZhbGlkYXRpb24gdG8g
aG9zdC4NCj4gPg0KPiA+IEludGVsIFZULWQgMy4wIHN1cHBvcnRzIG5lc3RlZCB0cmFuc2xhdGlv
biBpbiBQQVNJRCBncmFudWxhci4NCj4gPiBHdWVzdCBTVkEgc3VwcG9ydCBjb3VsZCBiZSBpbXBs
ZW1lbnRlZCBieSBjb25maWd1cmluZyBuZXN0ZWQNCj4gPiB0cmFuc2xhdGlvbiBvbiBzcGVjaWZp
YyBQQVNJRC4gVGhpcyBpcyBhbHNvIGtub3duIGFzIGR1YWwgc3RhZ2UgRE1BDQo+ID4gdHJhbnNs
YXRpb24uDQo+ID4NCj4gPiBVbmRlciBzdWNoIGNvbmZpZ3VyYXRpb24sIGd1ZXN0IG93bnMgdGhl
IEdWQS0+R1BBIHRyYW5zbGF0aW9uIHdoaWNoIGlzDQo+ID4gY29uZmlndXJlZCBhcyBmaXJzdCBs
ZXZlbCBwYWdlIHRhYmxlIGluIGhvc3Qgc2lkZSBmb3IgYSBzcGVjaWZpYw0KPiA+IHBhc2lkLCBh
bmQgaG9zdCBvd25zIEdQQS0+SFBBIHRyYW5zbGF0aW9uLiBBcyBndWVzdCBvd25zIGZpcnN0IGxl
dmVsDQo+ID4gdHJhbnNsYXRpb24gdGFibGUsIHBpb3RsYiBpbnZhbGlkYXRpb24gc2hvdWxkIGJl
IHByb3BhZ2F0ZWQgdG8gaG9zdA0KPiA+IHNpbmNlIGhvc3QgSU9NTVUgd2lsbCBjYWNoZSBmaXJz
dCBsZXZlbCBwYWdlIHRhYmxlIHJlbGF0ZWQgbWFwcGluZ3MNCj4gPiBkdXJpbmcgRE1BIGFkZHJl
c3MgdHJhbnNsYXRpb24uDQo+ID4NCj4gPiBUaGlzIHBhdGNoIHRyYXBzIHRoZSBndWVzdCBQQVNJ
RC1iYXNlZCBpb3RsYiBmbHVzaCBhbmQgcHJvcGFnYXRlIGl0IHRvDQo+ID4gaG9zdC4NCj4gPg0K
PiA+IENjOiBLZXZpbiBUaWFuIDxrZXZpbi50aWFuQGludGVsLmNvbT4NCj4gPiBDYzogSmFjb2Ig
UGFuIDxqYWNvYi5qdW4ucGFuQGxpbnV4LmludGVsLmNvbT4NCj4gPiBDYzogUGV0ZXIgWHUgPHBl
dGVyeEByZWRoYXQuY29tPg0KPiA+IENjOiBZaSBTdW4gPHlpLnkuc3VuQGxpbnV4LmludGVsLmNv
bT4NCj4gPiBDYzogUGFvbG8gQm9uemluaSA8cGJvbnppbmlAcmVkaGF0LmNvbT4NCj4gPiBDYzog
UmljaGFyZCBIZW5kZXJzb24gPHJ0aEB0d2lkZGxlLm5ldD4NCj4gPiBDYzogRWR1YXJkbyBIYWJr
b3N0IDxlaGFia29zdEByZWRoYXQuY29tPg0KPiA+IFNpZ25lZC1vZmYtYnk6IExpdSBZaSBMIDx5
aS5sLmxpdUBpbnRlbC5jb20+DQo+ID4gLS0tDQo+ID4gIGh3L2kzODYvaW50ZWxfaW9tbXUuYyAg
ICAgICAgICB8IDEzOQ0KPiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Kw0KPiA+ICBody9pMzg2L2ludGVsX2lvbW11X2ludGVybmFsLmggfCAgIDcgKysrDQo+ID4gIDIg
ZmlsZXMgY2hhbmdlZCwgMTQ2IGluc2VydGlvbnMoKykNCj4gPg0KPiA+IGRpZmYgLS1naXQgYS9o
dy9pMzg2L2ludGVsX2lvbW11LmMgYi9ody9pMzg2L2ludGVsX2lvbW11LmMgaW5kZXgNCj4gPiBi
OWFjMDdkLi4xMGQzMTRkIDEwMDY0NA0KPiA+IC0tLSBhL2h3L2kzODYvaW50ZWxfaW9tbXUuYw0K
PiA+ICsrKyBiL2h3L2kzODYvaW50ZWxfaW9tbXUuYw0KPiA+IEBAIC0zMTM0LDE1ICszMTM0LDE1
NCBAQCBzdGF0aWMgYm9vbA0KPiB2dGRfcHJvY2Vzc19wYXNpZF9kZXNjKEludGVsSU9NTVVTdGF0
ZSAqcywNCj4gPiAgICAgIHJldHVybiAocmV0ID09IDApID8gdHJ1ZSA6IGZhbHNlOyAgfQ0KPiA+
DQo+ID4gKy8qKg0KPiA+ICsgKiBDYWxsZXIgb2YgdGhpcyBmdW5jdGlvbiBzaG91bGQgaG9sZCBp
b21tdV9sb2NrLg0KPiA+ICsgKi8NCj4gPiArc3RhdGljIHZvaWQgdnRkX2ludmFsaWRhdGVfcGlv
dGxiKEludGVsSU9NTVVTdGF0ZSAqcywNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFZUREJ1cyAqdnRkX2J1cywNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGludCBkZXZmbiwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IER1YWxJT01NVVN0YWdlMUNhY2hlICpzdGFnZTFfY2FjaGUpDQo+ID4gK3sNCj4gPiArICAgIFZU
REhvc3RJT01NVUNvbnRleHQgKnZ0ZF9kZXZfaWN4Ow0KPiA+ICsgICAgSG9zdElPTU1VQ29udGV4
dCAqaG9zdF9pY3g7DQo+ID4gKw0KPiA+ICsgICAgdnRkX2Rldl9pY3ggPSB2dGRfYnVzLT5kZXZf
aWN4W2RldmZuXTsNCj4gPiArICAgIGlmICghdnRkX2Rldl9pY3gpIHsNCj4gPiArICAgICAgICBn
b3RvIG91dDsNCj4gPiArICAgIH0NCj4gPiArICAgIGhvc3RfaWN4ID0gdnRkX2Rldl9pY3gtPmhv
c3RfaWN4Ow0KPiA+ICsgICAgaWYgKCFob3N0X2ljeCkgew0KPiA+ICsgICAgICAgIGdvdG8gb3V0
Ow0KPiA+ICsgICAgfQ0KPiA+ICsgICAgaWYgKGhvc3RfaW9tbXVfY3R4X2ZsdXNoX3N0YWdlMV9j
YWNoZShob3N0X2ljeCwgc3RhZ2UxX2NhY2hlKSkgew0KPiA+ICsgICAgICAgIGVycm9yX3JlcG9y
dCgiQ2FjaGUgZmx1c2ggZmFpbGVkIik7DQo+IA0KPiBJIHRoaW5rIHRoaXMgc2hvdWxkIG5vdCBl
YXNpbHkgYmUgdHJpZ2dlcmVkIGJ5IHRoZSBndWVzdCwgYnV0IGp1c3QgaW4gY2FzZS4uLiBMZXQn
cyB1c2UNCj4gZXJyb3JfcmVwb3J0X29uY2UoKSB0byBiZSBzYWZlLg0KDQpBZ3JlZWQuDQoNCj4g
PiArICAgIH0NCj4gPiArb3V0Og0KPiA+ICsgICAgcmV0dXJuOw0KPiA+ICt9DQo+ID4gKw0KPiA+
ICtzdGF0aWMgaW5saW5lIGJvb2wgdnRkX3Bhc2lkX2NhY2hlX3ZhbGlkKA0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgIFZURFBBU0lEQWRkcmVzc1NwYWNlICp2dGRfcGFzaWRfYXMpIHsN
Cj4gPiArICAgIHJldHVybiB2dGRfcGFzaWRfYXMtPmlvbW11X3N0YXRlICYmDQo+IA0KPiBUaGlz
IGNoZWNrIGNhbiBiZSBkcm9wcGVkIGJlY2F1c2UgYWx3YXlzIHRydWU/DQo+IA0KPiBJZiB5b3Ug
YWdyZWUgd2l0aCBib3RoIHRoZSBjaGFuZ2VzLCBwbGVhc2UgYWRkOg0KPiANCj4gUmV2aWV3ZWQt
Ynk6IFBldGVyIFh1IDxwZXRlcnhAcmVkaGF0LmNvbT4NCg0KSSB0aGluayB0aGUgY29kZSBzaG91
bGQgZW5zdXJlIGFsbCB0aGUgcGFzaWRfYXMgaW4gaGFzaCB0YWJsZSBpcyB2YWxpZC4gQW5kDQp3
ZSBjYW4gc2luY2UgYWxsIHRoZSBvcGVyYXRpb25zIGFyZSB1bmRlciBwcm90ZWN0aW9uIG9mIGlv
bW11X2xvY2suDQoNClRoYW5rcywNCllpIExpdQ0KDQo+ID4gKyAgICAgICAgICAgKHZ0ZF9wYXNp
ZF9hcy0+aW9tbXVfc3RhdGUtPnBhc2lkX2NhY2hlX2dlbg0KPiA+ICsgICAgICAgICAgICAgPT0g
dnRkX3Bhc2lkX2FzLT5wYXNpZF9jYWNoZV9lbnRyeS5wYXNpZF9jYWNoZV9nZW4pOw0KPiA+ICt9
DQo+ID4gKw0KPiA+ICsvKioNCj4gPiArICogVGhpcyBmdW5jdGlvbiBpcyBhIGxvb3AgZnVuY3Rp
b24gZm9yIHRoZSBzLT52dGRfcGFzaWRfYXMNCj4gPiArICogbGlzdCB3aXRoIFZURFBJT1RMQklu
dkluZm8gYXMgZXhlY3V0aW9uIGZpbHRlci4gSXQgcHJvcGFnYXRlcw0KPiA+ICsgKiB0aGUgcGlv
dGxiIGludmFsaWRhdGlvbiB0byBob3N0LiBDYWxsZXIgb2YgdGhpcyBmdW5jdGlvbg0KPiA+ICsg
KiBzaG91bGQgaG9sZCBpb21tdV9sb2NrLg0KPiA+ICsgKi8NCj4gPiArc3RhdGljIHZvaWQgdnRk
X2ZsdXNoX3Bhc2lkX2lvdGxiKGdwb2ludGVyIGtleSwgZ3BvaW50ZXIgdmFsdWUsDQo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncG9pbnRlciB1c2VyX2RhdGEpIHsNCj4g
PiArICAgIFZURFBJT1RMQkludkluZm8gKnBpb3RsYl9pbmZvID0gdXNlcl9kYXRhOw0KPiA+ICsg
ICAgVlREUEFTSURBZGRyZXNzU3BhY2UgKnZ0ZF9wYXNpZF9hcyA9IHZhbHVlOw0KPiA+ICsgICAg
dWludDE2X3QgZGlkOw0KPiA+ICsNCj4gPiArICAgIC8qDQo+ID4gKyAgICAgKiBOZWVkcyB0byBj
aGVjayB3aGV0aGVyIHRoZSBwYXNpZCBlbnRyeSBjYWNoZSBzdG9yZWQgaW4NCj4gPiArICAgICAq
IHZ0ZF9wYXNpZF9hcyBpcyB2YWxpZCBvciBub3QuICJpbnZhbGlkIiBtZWFucyB0aGUgcGFzaWQN
Cj4gPiArICAgICAqIGNhY2hlIGhhcyBiZWVuIGZsdXNoZWQsIHRodXMgaG9zdCBzaG91bGQgaGF2
ZSBkb25lIHBpb3RsYg0KPiA+ICsgICAgICogaW52YWxpZGF0aW9uIHRvZ2V0aGVyIHdpdGggYSBw
YXNpZCBjYWNoZSBpbnZhbGlkYXRpb24sIHNvDQo+ID4gKyAgICAgKiBubyBuZWVkIHRvIHBhc3Mg
ZG93biBwaW90bGIgaW52YWxpZGF0aW9uIHRvIGhvc3QgZm9yIGJldHRlcg0KPiA+ICsgICAgICog
cGVyZm9ybWFuY2UuIE9ubHkgd2hlbiBwYXNpZCBlbnRyeSBjYWNoZSBpcyAidmFsaWQiLCBzaG91
bGQNCj4gPiArICAgICAqIGEgcGlvdGxiIGludmFsaWRhdGlvbiBiZSBwcm9wYWdhdGVkIHRvIGhv
c3Qgc2luY2UgaXQgbWVhbnMNCj4gPiArICAgICAqIGd1ZXN0IGp1c3QgbW9kaWZpZWQgYSBtYXBw
aW5nIGluIGl0cyBwYWdlIHRhYmxlLg0KPiA+ICsgICAgICovDQo+ID4gKyAgICBpZiAoIXZ0ZF9w
YXNpZF9jYWNoZV92YWxpZCh2dGRfcGFzaWRfYXMpKSB7DQo+ID4gKyAgICAgICAgcmV0dXJuOw0K
PiA+ICsgICAgfQ0KPiA+ICsNCj4gPiArICAgIGRpZCA9IHZ0ZF9wZV9nZXRfZG9tYWluX2lkKA0K
PiA+ICsgICAgICAgICAgICAgICAgJih2dGRfcGFzaWRfYXMtPnBhc2lkX2NhY2hlX2VudHJ5LnBh
c2lkX2VudHJ5KSk7DQo+ID4gKw0KPiA+ICsgICAgaWYgKChwaW90bGJfaW5mby0+ZG9tYWluX2lk
ID09IGRpZCkgJiYNCj4gPiArICAgICAgICAocGlvdGxiX2luZm8tPnBhc2lkID09IHZ0ZF9wYXNp
ZF9hcy0+cGFzaWQpKSB7DQo+ID4gKyAgICAgICAgdnRkX2ludmFsaWRhdGVfcGlvdGxiKHZ0ZF9w
YXNpZF9hcy0+aW9tbXVfc3RhdGUsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHZ0ZF9wYXNpZF9hcy0+dnRkX2J1cywNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdnRkX3Bhc2lkX2FzLT5kZXZmbiwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcGlvdGxiX2luZm8tPnN0YWdlMV9jYWNoZSk7DQo+ID4gKyAgICB9DQo+ID4gKw0KPiA+ICsg
ICAgLyoNCj4gPiArICAgICAqIFRPRE86IG5lZWRzIHRvIGFkZCBRRU1VIHBpb3RsYiBmbHVzaCB3
aGVuIFFFTVUgcGlvdGxiDQo+ID4gKyAgICAgKiBpbmZyYXN0cnVjdHVyZSBpcyByZWFkeS4gRm9y
IG5vdywgaXQgaXMgZW5vdWdoIGZvciBwYXNzdGhydQ0KPiA+ICsgICAgICogZGV2aWNlcy4NCj4g
PiArICAgICAqLw0KPiA+ICt9DQo+ID4gKw0KPiA+ICBzdGF0aWMgdm9pZCB2dGRfcGlvdGxiX3Bh
c2lkX2ludmFsaWRhdGUoSW50ZWxJT01NVVN0YXRlICpzLA0KPiA+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3QgZG9tYWluX2lkLA0KPiA+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgcGFzaWQpICB7DQo+ID4g
KyAgICBWVERQSU9UTEJJbnZJbmZvIHBpb3RsYl9pbmZvOw0KPiA+ICsgICAgRHVhbElPTU1VU3Rh
Z2UxQ2FjaGUgKnN0YWdlMV9jYWNoZTsNCj4gPiArICAgIHN0cnVjdCBpb21tdV9jYWNoZV9pbnZh
bGlkYXRlX2luZm8gKmNhY2hlX2luZm87DQo+ID4gKw0KPiA+ICsgICAgc3RhZ2UxX2NhY2hlID0g
Z19tYWxsb2MwKHNpemVvZigqc3RhZ2UxX2NhY2hlKSk7DQo+ID4gKyAgICBzdGFnZTFfY2FjaGUt
PnBhc2lkID0gcGFzaWQ7DQo+ID4gKw0KPiA+ICsgICAgY2FjaGVfaW5mbyA9ICZzdGFnZTFfY2Fj
aGUtPmNhY2hlX2luZm87DQo+ID4gKyAgICBjYWNoZV9pbmZvLT52ZXJzaW9uID0gSU9NTVVfVUFQ
SV9WRVJTSU9OOw0KPiA+ICsgICAgY2FjaGVfaW5mby0+Y2FjaGUgPSBJT01NVV9DQUNIRV9JTlZf
VFlQRV9JT1RMQjsNCj4gPiArICAgIGNhY2hlX2luZm8tPmdyYW51bGFyaXR5ID0gSU9NTVVfSU5W
X0dSQU5VX1BBU0lEOw0KPiA+ICsgICAgY2FjaGVfaW5mby0+cGFzaWRfaW5mby5wYXNpZCA9IHBh
c2lkOw0KPiA+ICsgICAgY2FjaGVfaW5mby0+cGFzaWRfaW5mby5mbGFncyA9IElPTU1VX0lOVl9Q
QVNJRF9GTEFHU19QQVNJRDsNCj4gPiArDQo+ID4gKyAgICBwaW90bGJfaW5mby5kb21haW5faWQg
PSBkb21haW5faWQ7DQo+ID4gKyAgICBwaW90bGJfaW5mby5wYXNpZCA9IHBhc2lkOw0KPiA+ICsg
ICAgcGlvdGxiX2luZm8uc3RhZ2UxX2NhY2hlID0gc3RhZ2UxX2NhY2hlOw0KPiA+ICsNCj4gPiAr
ICAgIHZ0ZF9pb21tdV9sb2NrKHMpOw0KPiA+ICsgICAgLyoNCj4gPiArICAgICAqIEhlcmUgbG9v
cHMgYWxsIHRoZSB2dGRfcGFzaWRfYXMgaW5zdGFuY2VzIGluIHMtPnZ0ZF9wYXNpZF9hcw0KPiA+
ICsgICAgICogdG8gZmluZCBvdXQgdGhlIGFmZmVjdGVkIGRldmljZXMgc2luY2UgcGlvdGxiIGlu
dmFsaWRhdGlvbg0KPiA+ICsgICAgICogc2hvdWxkIGNoZWNrIHBhc2lkIGNhY2hlIHBlciBhcmNo
aXRlY3R1cmUgcG9pbnQgb2Ygdmlldy4NCj4gPiArICAgICAqLw0KPiA+ICsgICAgZ19oYXNoX3Rh
YmxlX2ZvcmVhY2gocy0+dnRkX3Bhc2lkX2FzLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgdnRkX2ZsdXNoX3Bhc2lkX2lvdGxiLCAmcGlvdGxiX2luZm8pOw0KPiA+ICsgICAgdnRkX2lv
bW11X3VubG9jayhzKTsNCj4gPiArICAgIGdfZnJlZShzdGFnZTFfY2FjaGUpOw0KPiA+ICB9DQo+
ID4NCj4gPiAgc3RhdGljIHZvaWQgdnRkX3Bpb3RsYl9wYWdlX2ludmFsaWRhdGUoSW50ZWxJT01N
VVN0YXRlICpzLCB1aW50MTZfdCBkb21haW5faWQsDQo+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdWludDMyX3QgcGFzaWQsIGh3YWRkciBhZGRyLCB1aW50OF90IGFtLA0KPiA+IGJv
b2wgaWgpICB7DQo+ID4gKyAgICBWVERQSU9UTEJJbnZJbmZvIHBpb3RsYl9pbmZvOw0KPiA+ICsg
ICAgRHVhbElPTU1VU3RhZ2UxQ2FjaGUgKnN0YWdlMV9jYWNoZTsNCj4gPiArICAgIHN0cnVjdCBp
b21tdV9jYWNoZV9pbnZhbGlkYXRlX2luZm8gKmNhY2hlX2luZm87DQo+ID4gKw0KPiA+ICsgICAg
c3RhZ2UxX2NhY2hlID0gZ19tYWxsb2MwKHNpemVvZigqc3RhZ2UxX2NhY2hlKSk7DQo+ID4gKyAg
ICBzdGFnZTFfY2FjaGUtPnBhc2lkID0gcGFzaWQ7DQo+ID4gKw0KPiA+ICsgICAgY2FjaGVfaW5m
byA9ICZzdGFnZTFfY2FjaGUtPmNhY2hlX2luZm87DQo+ID4gKyAgICBjYWNoZV9pbmZvLT52ZXJz
aW9uID0gSU9NTVVfVUFQSV9WRVJTSU9OOw0KPiA+ICsgICAgY2FjaGVfaW5mby0+Y2FjaGUgPSBJ
T01NVV9DQUNIRV9JTlZfVFlQRV9JT1RMQjsNCj4gPiArICAgIGNhY2hlX2luZm8tPmdyYW51bGFy
aXR5ID0gSU9NTVVfSU5WX0dSQU5VX0FERFI7DQo+ID4gKyAgICBjYWNoZV9pbmZvLT5hZGRyX2lu
Zm8uZmxhZ3MgPSBJT01NVV9JTlZfQUREUl9GTEFHU19QQVNJRDsNCj4gPiArICAgIGNhY2hlX2lu
Zm8tPmFkZHJfaW5mby5mbGFncyB8PSBpaCA/IElPTU1VX0lOVl9BRERSX0ZMQUdTX0xFQUYgOiAw
Ow0KPiA+ICsgICAgY2FjaGVfaW5mby0+YWRkcl9pbmZvLnBhc2lkID0gcGFzaWQ7DQo+ID4gKyAg
ICBjYWNoZV9pbmZvLT5hZGRyX2luZm8uYWRkciA9IGFkZHI7DQo+ID4gKyAgICBjYWNoZV9pbmZv
LT5hZGRyX2luZm8uZ3JhbnVsZV9zaXplID0gMSA8PCAoMTIgKyBhbSk7DQo+ID4gKyAgICBjYWNo
ZV9pbmZvLT5hZGRyX2luZm8ubmJfZ3JhbnVsZXMgPSAxOw0KPiA+ICsNCj4gPiArICAgIHBpb3Rs
Yl9pbmZvLmRvbWFpbl9pZCA9IGRvbWFpbl9pZDsNCj4gPiArICAgIHBpb3RsYl9pbmZvLnBhc2lk
ID0gcGFzaWQ7DQo+ID4gKyAgICBwaW90bGJfaW5mby5zdGFnZTFfY2FjaGUgPSBzdGFnZTFfY2Fj
aGU7DQo+ID4gKw0KPiA+ICsgICAgdnRkX2lvbW11X2xvY2socyk7DQo+ID4gKyAgICAvKg0KPiA+
ICsgICAgICogSGVyZSBsb29wcyBhbGwgdGhlIHZ0ZF9wYXNpZF9hcyBpbnN0YW5jZXMgaW4gcy0+
dnRkX3Bhc2lkX2FzDQo+ID4gKyAgICAgKiB0byBmaW5kIG91dCB0aGUgYWZmZWN0ZWQgZGV2aWNl
cyBzaW5jZSBwaW90bGIgaW52YWxpZGF0aW9uDQo+ID4gKyAgICAgKiBzaG91bGQgY2hlY2sgcGFz
aWQgY2FjaGUgcGVyIGFyY2hpdGVjdHVyZSBwb2ludCBvZiB2aWV3Lg0KPiA+ICsgICAgICovDQo+
ID4gKyAgICBnX2hhc2hfdGFibGVfZm9yZWFjaChzLT52dGRfcGFzaWRfYXMsDQo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICB2dGRfZmx1c2hfcGFzaWRfaW90bGIsICZwaW90bGJfaW5mbyk7
DQo+ID4gKyAgICB2dGRfaW9tbXVfdW5sb2NrKHMpOw0KPiA+ICsgICAgZ19mcmVlKHN0YWdlMV9j
YWNoZSk7DQo+ID4gIH0NCj4gPg0KPiA+ICBzdGF0aWMgYm9vbCB2dGRfcHJvY2Vzc19waW90bGJf
ZGVzYyhJbnRlbElPTU1VU3RhdGUgKnMsIGRpZmYgLS1naXQNCj4gPiBhL2h3L2kzODYvaW50ZWxf
aW9tbXVfaW50ZXJuYWwuaCBiL2h3L2kzODYvaW50ZWxfaW9tbXVfaW50ZXJuYWwuaA0KPiA+IGlu
ZGV4IDMxNGUyYzQuLjk2N2NjNGYgMTAwNjQ0DQo+ID4gLS0tIGEvaHcvaTM4Ni9pbnRlbF9pb21t
dV9pbnRlcm5hbC5oDQo+ID4gKysrIGIvaHcvaTM4Ni9pbnRlbF9pb21tdV9pbnRlcm5hbC5oDQo+
ID4gQEAgLTU2MCw2ICs1NjAsMTMgQEAgc3RydWN0IFZURFBBU0lEQ2FjaGVJbmZvIHsNCj4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWVERfUEFTSURfQ0FDSEVfREVW
U0kpICB0eXBlZGVmDQo+ID4gc3RydWN0IFZURFBBU0lEQ2FjaGVJbmZvIFZURFBBU0lEQ2FjaGVJ
bmZvOw0KPiA+DQo+ID4gK3N0cnVjdCBWVERQSU9UTEJJbnZJbmZvIHsNCj4gPiArICAgIHVpbnQx
Nl90IGRvbWFpbl9pZDsNCj4gPiArICAgIHVpbnQzMl90IHBhc2lkOw0KPiA+ICsgICAgRHVhbElP
TU1VU3RhZ2UxQ2FjaGUgKnN0YWdlMV9jYWNoZTsgfTsgdHlwZWRlZiBzdHJ1Y3QNCj4gPiArVlRE
UElPVExCSW52SW5mbyBWVERQSU9UTEJJbnZJbmZvOw0KPiA+ICsNCj4gPiAgLyogUEFTSUQgVGFi
bGUgUmVsYXRlZCBEZWZpbml0aW9ucyAqLyAgI2RlZmluZQ0KPiA+IFZURF9QQVNJRF9ESVJfQkFT
RV9BRERSX01BU0sgICh+MHhmZmZVTEwpICAjZGVmaW5lDQo+ID4gVlREX1BBU0lEX1RBQkxFX0JB
U0VfQUREUl9NQVNLICh+MHhmZmZVTEwpDQo+ID4gLS0NCj4gPiAyLjcuNA0KPiA+DQo+IA0KPiAt
LQ0KPiBQZXRlciBYdQ0KDQo=
