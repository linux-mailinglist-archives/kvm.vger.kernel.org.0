Return-Path: <kvm+bounces-22060-lists+kvm=lfdr.de@vger.kernel.org>
X-Original-To: lists+kvm@lfdr.de
Delivered-To: lists+kvm@lfdr.de
Received: from am.mirrors.kernel.org (am.mirrors.kernel.org [147.75.80.249])
	by mail.lfdr.de (Postfix) with ESMTPS id E2BBC9391BA
	for <lists+kvm@lfdr.de>; Mon, 22 Jul 2024 17:25:36 +0200 (CEST)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by am.mirrors.kernel.org (Postfix) with ESMTPS id 8F1C91F21B61
	for <lists+kvm@lfdr.de>; Mon, 22 Jul 2024 15:25:36 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id CDD9416E863;
	Mon, 22 Jul 2024 15:25:27 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="UTiVvf2G"
X-Original-To: kvm@vger.kernel.org
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 009D516DEB2;
	Mon, 22 Jul 2024 15:25:26 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1721661927; cv=none; b=OnZEk5mb239xqDibHQq/Nf85F7YIgBkVlcPXHgJPrmL5HR1RY8FSSFR4gwHipFR+Pg12xE7Dw3ArNkbbUhLkrw+OK4ko3c00efLc2UyvfVl5svtrsz0/cUH5yOIJvpV5hQe257di/5logpR4xUgazu5WqVImDsy2jv06edjUeBE=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1721661927; c=relaxed/simple;
	bh=Hzdm4kti2rG9sVqN2RPmvDKFKxNXuq1xCFgjQYFj3W8=;
	h=Date:Message-ID:From:To:Cc:Subject:In-Reply-To:References:
	 MIME-Version:Content-Type; b=d8xHploAttbLlNKh3hK0z7eEyN/0WFmaDx9ztCWA1Op4+LAIrsJGvG1LJyBsgoKIEVBaZ7BnjGkE4DkTRGVSPPX/khetfjk1Xt46zSaf26qSB1oO1AHnOD/MTvnpeLgeFGvHaK973VRRk63gURCD/4861DxHZrQBNhBd9N2hAWE=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=UTiVvf2G; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 804DEC116B1;
	Mon, 22 Jul 2024 15:25:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1721661926;
	bh=Hzdm4kti2rG9sVqN2RPmvDKFKxNXuq1xCFgjQYFj3W8=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
	b=UTiVvf2GSoMJmKKQS1VYzkrBGynJ5eHThoROQvgkfcmy2c3TjsJf4ZIWWAar07/VA
	 Riez3zNfPBEx4YQU13RmWeHA44HiZkSL0legRb+kFk5t3PJJeUdSA1AT6hTvDEkWH7
	 kV4ld6j28p4R4HeI4tgf+UZekwgh9zylMO0bQeVfXrBHQZdarIrVQ3q0U8lKkUQp0n
	 4Z44/g5rvF21rRCH5i3MoXkJp/njZJFX1XvV6GeYdYZpcTDXFk+0uVnCuP979fhmPs
	 T50FWm0FMjQ2KP4uDZqZtxqrgBj1NI0eF7D/Pfj9RNiE8VQ56F4jXu2UONPJCX2qTY
	 /b/MKKF3a+q8g==
Received: from [205.220.129.28] (helo=wait-a-minute.misterjones.org)
	by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
	(Exim 4.95)
	(envelope-from <maz@kernel.org>)
	id 1sVuug-00ESJ9-0n;
	Mon, 22 Jul 2024 16:25:24 +0100
Date: Mon, 22 Jul 2024 16:25:00 +0100
Message-ID: <874j8h5u0j.wl-maz@kernel.org>
From: Marc Zyngier <maz@kernel.org>
To: Alexandru Elisei <alexandru.elisei@arm.com>
Cc: kvmarm@lists.linux.dev,
	linux-arm-kernel@lists.infradead.org,
	kvm@vger.kernel.org,
	James Morse <james.morse@arm.com>,
	Suzuki K Poulose <suzuki.poulose@arm.com>,
	Oliver Upton <oliver.upton@linux.dev>,
	Zenghui Yu <yuzenghui@huawei.com>,
	Joey Gouly <joey.gouly@arm.com>
Subject: Re: [PATCH 10/12] KVM: arm64: nv: Add SW walker for AT S1 emulation
In-Reply-To: <Zp46GUJJ9xBWsJsQ@raptor>
References: <20240625133508.259829-1-maz@kernel.org>
	<20240708165800.1220065-1-maz@kernel.org>
	<Zp46GUJJ9xBWsJsQ@raptor>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/28.2
 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
Precedence: bulk
X-Mailing-List: kvm@vger.kernel.org
List-Id: <kvm.vger.kernel.org>
List-Subscribe: <mailto:kvm+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:kvm+unsubscribe@vger.kernel.org>
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-SA-Exim-Connect-IP: 205.220.129.28
X-SA-Exim-Rcpt-To: alexandru.elisei@arm.com, kvmarm@lists.linux.dev, linux-arm-kernel@lists.infradead.org, kvm@vger.kernel.org, james.morse@arm.com, suzuki.poulose@arm.com, oliver.upton@linux.dev, yuzenghui@huawei.com, joey.gouly@arm.com
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false

Hi Alex,

On Mon, 22 Jul 2024 11:53:13 +0100,
Alexandru Elisei <alexandru.elisei@arm.com> wrote:
> 
> Hi Marc,
> 
> I would like to use the S1 walker for KVM SPE, and I was planning to move it to
> a separate file, where it would be shared between nested KVM and SPE. I think
> this is also good for NV, since the walker would get more testing.
> 
> Do you think moving it to a shared location is a good approach? Or do you have
> something else in mind?

I'm definitely open to moving it somewhere else if that helps, though
the location doesn't matter much, TBH, and it is the boundary of the
interface I'm more interested in. It may need some work though, as the
current design is solely written with AT in mind.

> Also, do you know where you'll be able to send an updated version of this
> series? I'm asking because I want to decide between using this code (with fixes
> on top) or wait for the next iteration. Please don't feel that you need to send
> the next iteration too soon.

The current state of the branch is at [1], which I plan to send once
-rc1 is out. Note that this isn't a stable branch, so things can
change without any warning!

> And please CC me on the series, so I don't miss it by mistake :)

Of course!

Thanks,

	M.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/maz/arm-platforms.git/log/?h=kvm-arm64/nv-at-pan-WIP

-- 
Without deviation from the norm, progress is not possible.

